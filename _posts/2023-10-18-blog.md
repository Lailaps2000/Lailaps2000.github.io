---
title: '如何基于Academicpages搭建个人主页'
date: 2023-10-18
permalink: /posts/2023-10-18-blog
tags:
  - 杂记
---

事情的起因是我发现我需要搭建学术主页用来放自己的Slides和Writing，也方便日后申请和学术交流。找了一圈决定基于Academicpages这个项目进行搭建。这个项目本身基于Jekyll，支持Markdown，有着现代化的UI和自动更新的Talks/Writings列表（按照给定格式上传Markdown文件到指定目录即可）。稍加修改之后就可以作为自己的个人主页或者博客。

建立个人主页的的流程如下，这里主要提供自定义站点时的指引，但暂时不打算配图。如果需要图文流程可以搜一下其他人的。
* 创建GitHub账号（如果你还没有的话）。需要注意的是，__你的主页的域名将会是 [用户名].github.io__，所以请谨慎选择你的用户名。如果发现想要的用户名已经被占了可以塞点连字符绕过去。
* 搜索Academicpages并fork到自己的仓库里，__fork的时候项目名那个空里面填的只能是[你的用户名]__，否则无法访问你的主页。不过也有故意不这么填的用法，在后面会提到。
* 接下来就可以开始修改你的主页了：
  * 在_data里的navigation.yml可以用来调整导航栏。title是在导航栏里显示的内容，url是相对于_pages的路径。
    * 在yml文件里可以用"#"注释掉该行后续内容。
    * _data下的其他文件暂时不建议乱动。
  * 根目录下的_config.yml里是网站的全局设置。
    * 开始的Site Settings部分是网页的名字和链接。
    * Site Author部分是用来修改展示在侧边栏的个人信息。模板在这一部分提供了填写社交媒体信息的空间，但里面没有对QQ或者微信的支持，之后有时间的话我研究一下怎么加进去。如果搞定了的话我会发在这里。
    * 头像对应images里的profile.png，把这个换成自己的文件就行。__必须保持这个文件名和格式__，要不然改起来挺麻烦的。
    * Collections部分是用来自定义站点的类的，需要增加新的类可以在这里加，方便后续_pages里面的循环遍历。
    * Defaults部分是用来调整导航栏下子页面里信息展示方式的，需要修改的话建议参考[Minimal mistakes的文档](https://mmistakes.github.io/minimal-mistakes/docs/configuration/)。
    * Sass/SCSS部分是决定了网页的样式，想换皮肤的话可以进_sass目录改动css文件。这个模板不支持一键换肤只能手动改css文件解决。改之前建议做好备份，省的改崩了。
  * _pages里是距离首页，导航栏对应的子页面以及其他功能性页面。
    * about.md对应首页内容，在这里可以写自我介绍或者任何你想让别人第一眼看到的东西。
    * 配图按照标准的Markdown或者html中添加图片的方式处理即可，相对路径是相对于根目录。建议放在images下面的子目录里以方便分类管理，直接放images下可能会比较乱。
    * 添加文件亦然。文件也可以使用公网链接。
    * 和navigation.yml有对应名称的页面就是点击导航栏上对应选项进入的页面。如talks.html。他在里面已经写好循环遍历了，可以不用动。如果想在开头加点描述也可以，但只能用html语法。
    * 其他页面不熟悉的话建议不要动。
  * 添加自己的文章可以在_talks等目录下添加：
    * 使用Markdown格式编写。
    * 记得写表头。从其他同目录文件下复制表头然后改动对应信息是个好主意。
    * 在对应目录下添加后会自动添加到该目录所对应的导航栏链接的页面里，无需手动操作。
  * 修改完文件后记得点击右上角的commit提交修改。提交2~3分钟后修改将在你的主页上可见。如果没有，检查一下刚刚改动的页面是否成功编译。（对应GitHub仓库的导航栏下面的绿色对勾。如果显示为"X"的话可能需要点进去看看错误信息，并根据报错改动或者重新编译。
 
上述建站流程会带来一点小问题：如果你写一篇文章写了一半的话，commit也会把你的半成品文章发出去；又或者是在测试一些改动的时候发现会改崩了，但暂时没时间debug。这个时候就可以用到我下面提到的小技巧了：
* 在fork的时候故意不把项目名填写成用户名。
* 按照之前所述的流程改动站点。
* 用一个新的GitHub账号fork你改好的仓库，并做好对应改动。这个账号对应的主页就是你给别人展示的主页。
* 切换回原来的账号，把这个账号当沙盒用。
* 调整完毕后，切换到新账号上，用Sync fork功能同步修改。
* 如果在同步过程中遇到冲突的话，可以在Github Desktop里面检查冲突然后手动修改冲突的部分。

这个账号还可以用来维护其他主页。其操作方式如下：
* 提交修改并建立一个新的branch。
* 用其他账号fork这个仓库，并将新建立的branch设置为默认branch。
* 回到本账号。在新的branch上维护对应主页
* 利用前述操作推送修改。


这么做的好处是你可以获得一个沙盒用来做测试的同时，还不用担心在网页上发出去你暂时不想发的东西。两个仓库也能互为备份。注册GitHub账号也不是很困难，有邮箱就行。

如果后续有什么新的想法也会更新在这里。希望这篇博客能对想建立个人主页的同学有所帮助。
