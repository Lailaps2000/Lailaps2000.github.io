---
title: '如何搭建图床并构建画廊'
date: 2023-11-12
permalink: /posts/2023-11-12-blog
tags:
  - 杂记
  - 网站维护
---

这是一篇关于搭建图床并基于此构建博客中画廊的介绍。

考虑到Github单个项目500M的空间限制，直接在Github page中存储图片不是很好的选择。而QQ空间会压缩图片，排版也不是很友好。因此基于个人主页和稳定图床进行未压缩图片的分享和博客记录进入了我的考虑之中。

首先是图床的选择。目前市面上有一些免费图床，如[sm.ms](sm.ms)，[路过图床](imgse.com)等。但这些图床都会对上传的图片大小，带宽等有一定限制，而且不能确保数据安全。因此我决定选用云服务商的OSS服务进行图床搭建。最终我选择的是阿里云OSS。其有3个月的免费试用期，后续收费细则可以参考阿里云提供的文档[^1]。具体的建立方式请参考此[链接](https://zhuanlan.zhihu.com/p/104152479)。这里按照操作流程进行即可，没有什么容易出错的地方。

图片上传与管理我建议使用PicGo。其可视化的界面能让操作变得更加容易。但其似乎只有PC端的软件，用手机上传的方式还需要进一步探索。

除去图床，我还需要图片展示的框架。其应当支持一定的动画效果和滚动能力，完全展开的照片会损失可读性。我使用了[Swiper](https://swiper.com.cn/)作为框架。该框架是一个通用的滚动展示框，支持展示各类内容，只要能将这部分内容整合进一个div对中。其调用方法可以参考[API文档](https://swiper.com.cn/api/index.html)。直接从demo中复制代码块也是可选项。但如果复制代码块到自己的文档中，则需要注意如下事项：
* 请修改head和script中css和js文件的路径，以使得其可以被正确读取。
* 如果你有已经配置好的css文件，可以删去head中所有对全局有影响的模块，和.swiper-slide中background的词条以避免配色异常。
* **在header部分前段出现的"html,"行请务必删除**，否则会和Markdown的解释器出现冲突导致footer无法正常加载。
* 如果是在markdown中调用，**在复制时记得删去body对**。因为markdown本身在解释为html时已经携带了body对。

但目前的方案仍有一些缺陷。Swiper似乎不支持图片自适应的高度改动，因此在同一个框架下同时展示横图和竖图会有一点问题。目前我也只能手动将图片链接粘贴到文件中。这在图片很多的时候不太友好。在我进一步了解Java Script之后也许能有一些解决方案。

[^1]: 其实轮流使用各家OSS的免费期也是可选项，但是这么操作比较麻烦。阿里云收费大致分成包年和按量付费，整体不算很贵，一年也就一杯奶茶钱。
